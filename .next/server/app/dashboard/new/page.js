(()=>{var e={};e.id=816,e.ids=[816],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22191:(e,r,t)=>{Promise.resolve().then(t.bind(t,51006))},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30439:(e,r,t)=>{Promise.resolve().then(t.bind(t,35256))},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35256:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>u});var s=t(60687),i=t(43210),o=t(16189),a=t(75807),n=t(29523),l=t(44493),d=t(89667),c=t(52581),p=t(82669);function u(){let{session:e}=(0,p._)(),r=(0,o.useRouter)(),[t,u]=i.useState(null),[x,m]=i.useState(!1),[h,f]=i.useState(null);i.useEffect(()=>{e||r.push("/login")},[e,r]);let b=async e=>{if(e.preventDefault(),!t)return void c.o.error("Please select a file to transcribe");if(t.size>0x1900000)return void c.o.error("File size exceeds the limit (25MB)");if(!["audio/mpeg","audio/mp4","audio/wav","audio/ogg","audio/flac","video/mp4","video/quicktime","video/mpeg","video/webm","video/ogg"].includes(t.type))return void c.o.error("Unsupported file type. Please upload an audio or video file.");try{m(!0),f(null);let e=new FormData;e.append("file",t);let r=await fetch("/api/transcribe",{method:"POST",body:e}),s=await r.json();if(!r.ok)throw Error(s.error||"Failed to transcribe file");f(s.transcription),c.o.success("Transcription completed successfully!")}catch(e){console.error("Upload error:",e),c.o.error("Failed to transcribe file. Please try again.")}finally{m(!1)}};return(0,s.jsx)(a.O,{children:(0,s.jsxs)("div",{className:"container py-10",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"New Transcription"}),(0,s.jsx)(n.$,{onClick:()=>r.push("/dashboard"),variant:"outline",children:"Back to Dashboard"})]}),(0,s.jsxs)(l.Zp,{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Upload Audio or Video"}),(0,s.jsx)(l.BT,{children:"Supported formats: MP3, M4A, MP4, WAV, OGG, FLAC, WEBM, and more"})]}),(0,s.jsx)(l.Wu,{children:(0,s.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("label",{htmlFor:"file",className:"text-sm font-medium",children:"File"}),(0,s.jsx)(d.p,{id:"file",type:"file",accept:"audio/*,video/*",onChange:e=>{e.target.files&&e.target.files[0]&&u(e.target.files[0])},disabled:x}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Maximum file size: 25MB"})]}),(0,s.jsx)(n.$,{type:"submit",className:"w-full",disabled:!t||x,children:x?"Transcribing...":"Transcribe"})]})}),h&&(0,s.jsxs)(l.wL,{className:"flex flex-col",children:[(0,s.jsx)("h3",{className:"font-medium mb-2",children:"Transcription Result:"}),(0,s.jsx)("div",{className:"p-4 border rounded-md w-full bg-muted whitespace-pre-wrap",children:h}),(0,s.jsxs)("div",{className:"flex gap-2 mt-4 self-end",children:[(0,s.jsx)(n.$,{variant:"outline",onClick:()=>navigator.clipboard.writeText(h),children:"Copy"}),(0,s.jsx)(n.$,{onClick:()=>f(null),children:"New Transcription"})]})]})]})]})})}},45989:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(65239),i=t(48088),o=t(88170),a=t.n(o),n=t(30893),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);t.d(r,l);let d={children:["",{children:["dashboard",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,51006)),"C:\\projects\\turboscribe-pro\\src\\app\\dashboard\\new\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"C:\\projects\\turboscribe-pro\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\projects\\turboscribe-pro\\src\\app\\dashboard\\new\\page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/dashboard/new/page",pathname:"/dashboard/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},51006:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\projects\\\\turboscribe-pro\\\\src\\\\app\\\\dashboard\\\\new\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\projects\\turboscribe-pro\\src\\app\\dashboard\\new\\page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[447,478,567,924,501,746],()=>t(45989));module.exports=s})();